# タグ

## 概要
タグは、情報を分類・整理するためのラベルです。特に、コンテンツやデータを特定のカテゴリに関連付ける際に使用されます。タグは、ユーザーが情報を見つけやすくし、関連するコンテンツを簡単に探索できるようにするための重要な要素です。

## なぜ重要か
タグを使用することで、情報の整理が容易になり、ユーザーは自分の興味に合ったコンテンツを迅速に見つけることができます。また、タグはデータの関連性を示すため、分析やレポート作成の際にも役立ちます。特に、異なるタグ間の関係を理解することは、情報の相互作用を把握する上で重要です。

## 基本の流れ
1. **タグの作成**: ユーザーやシステムが新しいタグを作成します。
2. **タグの関連付け**: 作成したタグを特定のコンテンツやデータに関連付けます。
3. **タグの検索**: ユーザーがタグを使用して関連するコンテンツを検索します。
4. **タグの管理**: タグの編集や削除を行い、タグの整合性を保ちます。

## 主要コンポーネント
- **タグ階層**: タグ間の関係を示すための構造。上位タグ、同値タグ、下位タグの関係を持つ。
- **言語グループ**: タグが関連する言語を示すグループ。日本語、英語、韓国語など。
- **提案操作**: タグ関係に対する提案を管理するための機能。

## 外部/内部インターフェース
- **APIエンドポイント**: タグの作成、取得、更新、削除を行うためのRESTful API。
- **データベースインターフェース**: タグ情報を保存・取得するためのデータベースとのインターフェース。

## 例（ユーザー視点のシナリオ）
1. ユーザーが「旅行」というタグを作成します。
2. ユーザーは「旅行」に関連する記事や写真にこのタグを付けます。
3. 他のユーザーが「旅行」タグを検索し、関連するコンテンツを見つけます。
4. ユーザーは、特定の旅行に関する提案を行い、他のユーザーと情報を共有します。

## 制約と既知の注意点
- タグ名は特定の文字数制限があり、長すぎるタグ名は受け付けられません。
- タグの階層関係が正しく設定されていない場合、検索結果が不正確になる可能性があります。
- タグの削除は、関連するコンテンツに影響を与えるため、慎重に行う必要があります。

## 用語集
- **タグ**: コンテンツを分類するためのラベル。
- **階層**: タグ間の関係を示す構造。
- **言語グループ**: タグが関連する言語のカテゴリ。
- **提案操作**: タグ関係に対する提案を管理する機能。

## 関連ファイル
- `src/common/tag/hierarchy.rs`
- `src/common/tag/language_group.rs`
- `src/common/tag/non_top_tag.rs`
- `src/common/tag/relation.rs`
- `src/endpoints/tag/list/dsl.rs`
- `src/endpoints/tag/rating/get/dsl.rs`
- `src/endpoints/tag/search/dsl.rs`